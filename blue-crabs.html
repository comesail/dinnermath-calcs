<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Blue Crab Quantity Calculator — How Many per Person (Bushels & Dozens) | DinnerMath</title>
<meta name="description" content="Estimate how many blue crabs to buy for 10–200 guests. Converts to dozens and bushels. Built-in adjustments for appetite, event length, and menu variety." />

<style>
  :root{
    --ink:#0b2a3a;        /* deep blue-ink */
    --ink-2:#13506a;      /* blue-crab teal */
    --wash:#eaf6fb;       /* light sea wash */
    --paper:#ffffff;
    --line:#d7e8ef;
    --accent:#2f8db3;
    --ok:#14d6b3;
    --warn:#b35bf2;
    --shadow:0 6px 20px rgba(11,42,58,.08);
    --radius:18px;
  }
  *{box-sizing:border-box}
  html,body{margin:0;background:var(--wash);color:var(--ink);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif}
  .wrap{max-width:980px;margin:auto;padding:28px 16px 56px}
  header{margin:0 0 18px}
  header h1{font-size:clamp(22px,3.2vw,34px);margin:0 0 8px}
  header p{margin:0;color:#274757}
  .card{background:var(--paper);border:1px solid var(--line);border-radius:16px;box-shadow:var(--shadow);padding:18px}
  .stack{display:grid;gap:14px}
  .grid{display:grid;gap:14px}
  @media (min-width:680px){ .grid{grid-template-columns:repeat(4,1fr); } }
  label{display:block;font-weight:600;margin:0 0 6px}
  input[type=number], select{
    width:100%; padding:10px 12px; border:1px solid var(--line);
    border-radius:12px; background:#fff; color:var(--ink);
  }
  .field{display:flex;flex-direction:column}
  .row-4{grid-column:span 4}
  .row-2{grid-column:span 2}
  .row-1{grid-column:span 1}
  .pill{display:inline-block;background:var(--ink-2);color:#fff;padding:4px 10px;border-radius:999px;font-size:12px}
  .muted{color:#466777}
  .results{background:#fff;border:1px dashed var(--line);border-radius:16px;padding:16px}
  .results h3{margin:0 0 8px}
  .kpi{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
  @media (min-width:680px){ .kpi{grid-template-columns:repeat(4,1fr);} }
  .kpi > div{background:var(--wash);border:1px solid var(--line);border-radius:14px;padding:12px;text-align:center}
  .kpi b{font-size:22px;display:block;margin-top:4px}
  .note{font-size:13px;color:#597c8f}
  .price{display:grid;gap:10px}
  .price .row{display:flex;gap:8px;align-items:center}
  .price input{max-width:120px}
  .btn{appearance:none;border:0;border-radius:12px;background:#f1f7fb;padding:10px 14px;cursor:pointer}
  .btn.primary{background:var(--ink-2);color:#fff}
  .disclaimer{font-size:12px;color:#6a8896;margin-top:14px}
</style>
</head>

<body>
  <div class="wrap">
    <header>
      <h1>Blue Crab Quantity Calculator — How Many per Person (Bushels &amp; Dozens)</h1>
      <p>Tell us who’s coming and how you’ll serve the crabs. We’ll estimate total crabs, convert to dozens and bushels, and optionally tally cost — perfect for 10–200 guests.</p>
    </header>

    <!-- INPUTS -->
    <section class="card stack" id="inputs">
      <h2 class="pill">Inputs</h2>
      <div class="grid">
        <div class="field row-2">
          <label for="adults">Adults</label>
          <input id="adults" type="number" min="0" step="1" value="20" />
        </div>
        <div class="field row-2">
          <label for="teens">Teens</label>
          <input id="teens" type="number" min="0" step="1" value="6" />
        </div>
        <div class="field row-2">
          <label for="kids">Kids</label>
          <input id="kids" type="number" min="0" step="1" value="2" />
        </div>

        <div class="field row-2">
          <label for="mode">How are you serving?</label>
          <select id="mode">
            <option value="whole" selected>Whole steamed crabs (pick at table)</option>
            <option value="picked">Picked crabmeat (in rolls / dishes)</option>
          </select>
        </div>

        <div class="field row-2">
          <label for="appetite">Appetite</label>
          <select id="appetite">
            <option value="normal" selected>Normal</option>
            <option value="big">Big crowd</option>
            <option value="light">Light eaters</option>
          </select>
        </div>

        <div class="field row-2">
          <label for="length">Event length</label>
          <select id="length">
            <option value="2">~2 hours</option>
            <option value="3" selected>~3 hours</option>
            <option value="4">~4+ hours</option>
          </select>
        </div>

        <div class="field row-2">
          <label for="variety">Menu variety</label>
          <select id="variety">
            <option value="balanced" selected>Balanced sides</option>
            <option value="heavy">Lots of other food</option>
            <option value="none">Mostly crabs</option>
          </select>
        </div>
      </div>

      <p class="note">Rules of thumb (baseline): Adults 6 crabs, Teens 5, Kids 3 per person for a relaxed crab feast. Adjustments apply for appetite, length, and other food.</p>
    </section>

    <!-- RESULTS -->
    <section class="card stack" id="results">
      <h2 class="pill">Results</h2>
      <div class="kpi">
        <div><span>Total Guests</span><b id="kTotal">28</b></div>
        <div><span>Total Crabs</span><b id="kCrabs">168</b></div>
        <div><span>Dozens</span><b id="kDozens">14</b></div>
        <div><span>Bushels*</span><b id="kBushels">2.4</b></div>
      </div>
      <p class="note">*A bushel typically runs ~60–72 mixed crabs. We use 66 as a planning average.</p>
    </section>

    <!-- PRICING (optional) -->
    <section class="card stack" id="pricing">
      <h2 class="pill">Pricing (optional)</h2>
      <div class="price">
        <div class="row">
          <label for="pDozen" class="muted">Price per dozen (whole crabs)</label>
          <input id="pDozen" type="number" min="0" step="1" value="45" />
          <button class="btn" id="nearMe">Seafood markets near me</button>
        </div>
        <div class="row">
          <label for="pBushel" class="muted">Price per bushel</label>
          <input id="pBushel" type="number" min="0" step="1" value="250" />
        </div>
      </div>

      <div class="results">
        <h3>Budget</h3>
        <div class="kpi">
          <div><span>By dozens</span><b id="kCostDozens">$0</b></div>
          <div><span>By bushels</span><b id="kCostBushels">$0</b></div>
        </div>
        <p class="note">Shop whichever is cheaper in your area. Quantities are the same either way.</p>
      </div>
    </section>

    <!-- NOTES & FAQ -->
    <section class="card stack">
      <h2 class="pill">Quick Notes</h2>
      <ul class="note">
        <li>Adults baseline 6, Teens 5, Kids 3 crabs each for whole-crab feasts.</li>
        <li>Picked-meat mode converts total crabs to ~<b id="kMeatLb">0</b> lb meat (≈ 1 lb from ~8–9 mixed crabs).</li>
        <li>One “bushel” ranges 60–72 crabs depending on size mix; we plan with 66.</li>
        <li>Numbers are buffet/party-forward estimates; adjust for your crowd.</li>
      </ul>
      <p class="disclaimer">DinnerMath numbers are planning estimates, not cooking advice. Always cross-check seafood safety/storage with your supplier.</p>
    </section>
  </div>

<script>
/* -------------------------------
   Calculator logic (auto-recalc)
--------------------------------*/
(function(){
  const $ = s => document.querySelector(s);

  // Baselines per person (whole crabs)
  const BASE = { adult: 6, teen: 5, kid: 3 };
  const BUSHEL_AVG = 66;              // average crabs per bushel
  const CRABS_PER_LB_MEAT = 8.5;      // ~8–9 mixed crabs ≈ 1 lb picked meat

  function adjFactor(appetite, length, variety){
    let f = 1;
    // appetite
    if (appetite === 'big')   f *= 1.15;
    if (appetite === 'light') f *= 0.9;

    // event length
    if (length === '4') f *= 1.1;
    if (length === '2') f *= 0.92;

    // menu variety
    if (variety === 'heavy')    f *= 0.88;
    if (variety === 'none')     f *= 1.12;
    return f;
  }

  function n(el){ return Math.max(0, parseInt($(el).value,10)||0); }
  function money(x){ return '$' + (Math.round(x*100)/100).toLocaleString(); }

  function calcTotals(){
    const A = n('#adults'), T = n('#teens'), K = n('#kids');
    const totalGuests = A + T + K;

    const appetite = $('#appetite').value;
    const length   = $('#length').value;
    const variety  = $('#variety').value;
    const mode     = $('#mode').value;

    const factor = adjFactor(appetite,length,variety);

    // Whole crabs baseline
    let crabs = (A*BASE.adult + T*BASE.teen + K*BASE.kid) * factor;

    // If serving picked meat, convert baseline “crabs needed” to pounds meat
    let meatLb = crabs / CRABS_PER_LB_MEAT;

    // Display KPIs
    $('#kTotal').textContent  = totalGuests.toLocaleString();
    $('#kCrabs').textContent  = Math.ceil(crabs).toLocaleString();
    $('#kDozens').textContent = (crabs/12).toFixed(1);
    $('#kBushels').textContent= (crabs/BUSHEL_AVG).toFixed(2);
    $('#kMeatLb').textContent = meatLb.toFixed(1);

    // Pricing
    const pDozen = Math.max(0, Number($('#pDozen').value)||0);
    const pBushel= Math.max(0, Number($('#pBushel').value)||0);
    const costDozens = (crabs/12)*pDozen;
    const costBushels= (crabs/BUSHEL_AVG)*pBushel;
    $('#kCostDozens').textContent = money(costDozens);
    $('#kCostBushels').textContent= money(costBushels);
  }

  // Expose for safety (not necessary, but keeps parity with older code)
  window.calcTotals = calcTotals;

  // Auto-recalc on any input change
  const wire = () => {
    document.querySelectorAll('input, select, textarea').forEach(el=>{
      el.addEventListener('input',  calcTotals);
      el.addEventListener('change', calcTotals);
    });
    calcTotals(); // initial
  };

  document.readyState !== 'loading' ? wire()
    : document.addEventListener('DOMContentLoaded', wire);

  // “Near me” map button
  document.addEventListener('click', (e)=>{
    if (e.target && e.target.id === 'nearMe'){
      const q = encodeURIComponent('seafood market blue crabs near me');
      window.open(`https://www.google.com/maps/search/${q}`, '_blank','noopener');
    }
  });
})();
</script>

</body>
</html>




