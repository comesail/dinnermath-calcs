<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>DinnerMath — Blue Crabs Quantity Calculator</title>
  <meta name="description" content="How many blue crabs per person? DinnerMath estimates whole crabs to buy and approximate live weight for mains or buffet, with pricing and quick presets for 10, 25, 50, 100 people.">
  <meta name="robots" content="index,follow">
  <style>
    :root{
      --ink:#111827; --muted:#6b7280; --line:#e5e7eb; --bg:#f8fafc;
      --pill:#374151; --card:#ffffff; --accent:#111827;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{
      background:var(--bg);
      font-family:"Brandon Grotesque","BrandonGrotesque","brandon-grotesque",ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial;
      color:var(--ink);
    }
    .wrap{max-width:820px;margin:24px auto;padding:0 16px}
    .card{background:var(--card);border:1px solid var(--line);border-radius:16px;box-shadow:0 1px 2px rgba(0,0,0,.04);padding:20px;margin:12px 0}
    .outline{border:2px solid var(--ink)}
    h1{font-size:22px;margin:0 0 8px}
    .lede{color:var(--muted);margin:0 0 16px}
    h2{font-size:20px;margin:16px 0 8px}
    h3{font-size:18px;margin:0 0 12px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    label{font-size:12px;color:#374151;display:block;margin:0 0 6px;font-weight:600}
    input[type="number"],select{
      width:100%;border:1px solid #d1d5db;border-radius:10px;padding:10px 12px;
      font-size:14px;background:#fff;color:var(--ink)
    }
    .muted{color:var(--muted);font-size:12px}
    .fine{font-size:13px;color:#374151}
    .inline{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
    .preset{border:1.5px solid var(--accent);background:#fff;border-radius:999px;padding:6px 10px;font-weight:700;cursor:pointer}
    .preset:hover{background:#f3f4f6}
    .pill{font-size:11px;border:1px solid #d1d5db;border-radius:999px;padding:4px 8px;color:var(--pill);background:#fff}
    .divider{height:1px;background:var(--line);margin:12px 0}
    /* Prominent Results */
    .results-title{font-size:22px;font-weight:800;margin:0 0 8px}
    .kv{display:flex;justify-content:space-between;gap:12px;background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:12px 14px}
    .kv + .kv{margin-top:8px}
    .kv b{font-size:1.05rem}
    .finder{padding:14px;border-radius:16px;border:2px solid var(--ink);background:#fff}
    @media (max-width:720px){.row{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="wrap">

    <!-- Header -->
    <div class="card" role="region" aria-label="Header">
      <h1>Blue Crabs Quantity Calculator — Crabs per Person</h1>
      <p class="lede">
        Enter guests and settings (or tap a quick preset). We’ll estimate
        <strong>whole blue crabs to buy</strong> and <strong>approximate live weight</strong>, then
        show an optional <strong>cost estimate</strong>.
      </p>
    </div>

    <!-- Inputs -->
    <div class="card" role="region" aria-label="Inputs">
      <h3>Inputs</h3>
      <div class="row" aria-label="Guests">
        <div><label for="A">Adults</label><input id="A" type="number" min="0" step="1" value="12"></div>
        <div><label for="T">Teens</label><input id="T" type="number" min="0" step="1" value="6"></div>
        <div><label for="C">Children</label><input id="C" type="number" min="0" step="1" value="4"></div>
        <div>
          <label for="course">Serving style</label>
          <select id="course">
            <option value="main" selected>Main (crab feast)</option>
            <option value="mixed">Mixed buffet</option>
            <option value="app">Appetizer/snack</option>
          </select>
        </div>
      </div>

      <div class="row" aria-label="Context">
        <div>
          <label for="size">Crab size</label>
          <select id="size">
            <option value="0.25">Small (about 0.25 lb live each)</option>
            <option value="0.33" selected>Medium (about 0.33 lb live each)</option>
            <option value="0.50">Large (about 0.50 lb live each)</option>
          </select>
          <div class="muted">Used to estimate total live pounds from the crab count.</div>
        </div>
        <div>
          <label for="appetite">Appetite</label>
          <select id="appetite">
            <option value="0.90">Light</option>
            <option value="1.00" selected>Typical</option>
            <option value="1.20">Hearty</option>
          </select>
        </div>
        <div>
          <label for="length">Event length</label>
          <select id="length">
            <option value="0.95">Short — about 1 to 2 hours</option>
            <option value="1.00" selected>Standard — about 2 to 3 hours</option>
            <option value="1.08">Long — about 3 to 4 hours</option>
            <option value="1.15">Extended — about 4 to 5 hours</option>
          </select>
        </div>
        <div>
          <label for="leftovers">Add leftovers</label>
          <select id="leftovers">
            <option value="1.00" selected>No</option>
            <option value="1.10">+10%</option>
            <option value="1.20">+20%</option>
          </select>
        </div>
      </div>

      <!-- Presets + Reset -->
      <div class="inline" style="margin-top:8px">
        <span class="muted">Quick presets:</span>
        <button class="preset" data-people="10" type="button">10</button>
        <button class="preset" data-people="25" type="button">25</button>
        <button class="preset" data-people="50" type="button">50</button>
        <button class="preset" data-people="100" type="button">100</button>
        <span class="muted">Presets set all as adults — tweak Teens/Children if needed.</span>
        <div style="flex:1"></div>
        <button id="dmReset" type="button" class="preset">Reset</button>
      </div>
    </div>

    <!-- Pricing (optional) -->
    <div class="card" role="region" aria-label="Pricing">
      <h3>Pricing (optional)</h3>
      <div class="row">
        <div><label for="priceDozen">Price per dozen (US dollars)</label><input id="priceDozen" type="number" min="0" step="0.01" placeholder="e.g., 42.00"></div>
        <div><label for="priceEach">Or price per crab (US dollars)</label><input id="priceEach" type="number" min="0" step="0.01" placeholder="optional"></div>
        <div><label for="taxPct">Sales tax (percent)</label><input id="taxPct" type="number" min="0" step="0.1" placeholder="e.g., 7.5"></div>
        <div><label for="fees">Extra fees (US dollars)</label><input id="fees" type="number" min="0" step="0.01" placeholder="e.g., 8.00"></div>
      </div>
      <div class="muted">If both prices are entered, we use <em>price per dozen</em>. Cost = crabs × unit price, then add tax and fees.</div>
    </div>

    <!-- Results -->
    <div class="card outline" role="region" aria-label="Results" aria-live="polite">
      <h3 class="results-title">Results</h3>
      <div class="kv"><span>Total guests counted</span><b id="outGuests">—</b></div>
      <div class="kv"><span>Whole blue crabs to buy (count)</span><b id="outCrabs">—</b></div>
      <div class="kv"><span>Approximate live weight (pounds)</span><b id="outPounds">—</b></div>
      <div class="kv"><span>Cost estimate (subtotal)</span><b id="outSubtotal">$—</b></div>
      <div class="kv"><span>Tax and fees</span><b id="outAdds">$—</b></div>
      <div class="kv"><span>Estimated total</span><b id="outTotal">$—</b></div>
      <div class="kv"><span>Cost per person</span><b id="outPPP">$—</b></div>
      <p class="muted" id="outExplain">Enter your guest mix to calculate.</p>
    </div>

    <!-- Finder -->
    <div class="card finder" role="region" aria-label="Find near me">
      <div class="inline">
        <a class="preset" href="#" onclick="try{window.open('https://www.google.com/maps/search/blue+crabs+near+me','_blank');}catch(e){location.href='https://www.google.com/maps/search/blue+crabs+near+me';}return false;">Find blue crabs near me</a>
        <a class="pill" href="#" onclick="try{window.open('https://www.google.com/maps/search/seafood+market','_blank');}catch(e){location.href='https://www.google.com/maps/search/seafood+market';}return false;">Seafood markets</a>
        <a class="pill" href="#" onclick="try{window.open('https://www.google.com/maps/search/grocery+store','_blank');}catch(e){location.href='https://www.google.com/maps/search/grocery+store';}return false;">Grocery stores</a>
      </div>
      <div class="muted" style="margin-top:8px">DinnerMath v1.0 (auto-calc)</div>
    </div>

    <!-- FAQs (5 total) -->
    <div class="card" role="region" aria-label="FAQs">
      <h2>FAQs</h2>
      <details open>
        <summary>How many blue crabs per person?</summary>
        <div class="fine">
          As a main crab feast, plan about <strong>6 crabs per adult</strong> (about 5 for teens and 4 for children).
          For a mixed buffet, plan about <strong>4 per adult</strong>.
          Appetizers are about <strong>3 per adult</strong>.
        </div>
      </details>
      <details>
        <summary>How do you convert crabs to pounds?</summary>
        <div class="fine">
          We multiply the needed crab count by your size choice (about 0.25 lb small, 0.33 lb medium, 0.50 lb large) to estimate total live weight.
        </div>
      </details>
      <details>
        <summary>Do I buy by the dozen or by the crab?</summary>
        <div class="fine">
          Many markets price by the dozen. Enter a price per dozen or per crab; if both are set, we use the dozen price.
        </div>
      </details>
      <details>
        <summary>How much should I buy for 10, 25, 50, or 100 people?</summary>
        <div class="fine">
          For a main with typical appetite, rough guides are:
          <strong>10 people about 60 crabs</strong>, <strong>25 people about 150</strong>,
          <strong>50 people about 300</strong>, <strong>100 people about 600</strong>.
          Use the calculator for your exact mix and size.
        </div>
      </details>
      <details>
        <summary>Does this account for meat yield?</summary>
        <div class="fine">
          We plan by <strong>whole crabs</strong> and show live weight. Pick a larger size if you prefer more meat per person.
        </div>
      </details>
    </div>

    <!-- Quick notes -->
    <div class="card" role="region" aria-label="Quick notes">
      <h3>Quick notes</h3>
      <ul class="fine" style="margin:0 0 0 18px;padding:0">
        <li><strong>Per-adult baselines:</strong> Main about 6 crabs; Mixed about 4; Appetizer about 3. Teens about 0.8 adult; Children about 0.6 adult.</li>
        <li><strong>Size choices:</strong> Small about 0.25 lb live each; Medium about 0.33 lb; Large about 0.50 lb.</li>
        <li><strong>Rounding:</strong> We round the crab count up to whole crabs.</li>
        <li><strong>Context multipliers:</strong> Appetite, event length, and leftovers can shift amounts by about 10–20%.</li>
        <li><strong>Disclaimer:</strong> Estimates only; confirm availability and size with your seafood market.</li>
      </ul>
    </div>

  </div>

  <!-- Calculator logic -->
  <script>
  (function(){
    const $ = id => document.getElementById(id);
    const N = (v,d=0)=>{const n=parseFloat(v);return isFinite(n)?n:d;};
    const money = n => (isFinite(n)&&n>=0) ? "$"+n.toFixed(2) : "$—";
    const fmt = (n,d=0)=> isFinite(n) ? n.toLocaleString(undefined,{minimumFractionDigits:d,maximumFractionDigits:d}) : "—";
    const ceilInt = n => Math.max(0, Math.ceil(n));

    // Baseline crabs per person
    function crabsPerPerson(course){
      if(course==="main")  return {adult:6.0, teen:5.0, child:4.0};
      if(course==="mixed") return {adult:4.0, teen:3.2, child:2.4};
      return                {adult:3.0, teen:2.4, child:1.8}; // appetizer
    }

    function compute(){
      const A=N($("A").value,0), T=N($("T").value,0), C=N($("C").value,0);
      const guests = A+T+C;

      const course = $("course").value;
      const sizeLb = N($("size").value,0.33); // live lb per crab
      const appetite = N($("appetite").value,1.0);
      const length   = N($("length").value,1.0);
      const leftovers= N($("leftovers").value,1.0);

      const base = crabsPerPerson(course);
      let totalCrabs = (A*base.adult + T*base.teen + C*base.child);
      totalCrabs *= appetite * length * leftovers;

      const crabsRounded = ceilInt(totalCrabs);
      const livePounds = crabsRounded * sizeLb;

      return {guests, crabsRounded, livePounds, sizeLb};
    }

    function render(){
      const s = compute();

      $("outGuests").textContent = s.guests>0 ? s.guests.toString() : "—";
      $("outCrabs").textContent  = s.guests>0 ? s.crabsRounded.toLocaleString() + " crabs" : "—";
      const poundsDec = (s.livePounds%1)?2:0;
      $("outPounds").textContent = s.guests>0 ? fmt(s.livePounds, poundsDec) + " lb (live)" : "—";
      $("outExplain").textContent = s.guests>0
        ? "Auto-calculated from guest mix, serving style, size, appetite, event length, and leftovers."
        : "Enter your guest mix to calculate.";

      // Pricing: prefer price per dozen if set, else price per crab
      const perDozen = N($("priceDozen").value,0);
      const perEach  = N($("priceEach").value,0);
      const unit = (perDozen>0) ? (perDozen/12) : (perEach>0 ? perEach : 0);
      const tax = N($("taxPct").value,0)/100;
      const fees = N($("fees").value,0);

      const subtotal = (unit>0 && s.crabsRounded>0) ? s.crabsRounded * unit : 0;
      const adds = subtotal * tax + (fees>0?fees:0);
      const total = subtotal + adds;
      const ppp = (s.guests>0 && total>0) ? total/s.guests : NaN;

      $("outSubtotal").textContent = subtotal>0 ? money(subtotal) : "$—";
      $("outAdds").textContent     = subtotal>0 ? money(adds) : "$—";
      $("outTotal").textContent    = subtotal>0 ? money(total) : "$—";
      $("outPPP").textContent      = (subtotal>0 && s.guests>0) ? money(ppp) : "$—";
    }

    // Listeners
    ["A","T","C","course","size","appetite","length","leftovers",
     "priceDozen","priceEach","taxPct","fees"].forEach(id=>{
      const el = $(id);
      if(el){ el.addEventListener("input",render); el.addEventListener("change",render); }
    });

    // Presets
    document.querySelectorAll(".preset[data-people]").forEach(btn=>{
      btn.addEventListener("click",()=>{
        const n = parseInt(btn.getAttribute("data-people"),10)||0;
        $("A").value = n; $("T").value = 0; $("C").value = 0; render();
      });
    });

    // Reset
    (function attachReset(){
      const btn = $("dmReset");
      if(!btn) return;
      btn.addEventListener("click", ()=>{
        document.querySelectorAll("input, select").forEach(el=>{
          if(el.tagName==="SELECT"){
            const i = Array.from(el.options).findIndex(o=>o.defaultSelected);
            el.selectedIndex = i>=0 ? i : 0;
          } else { el.value = el.defaultValue; }
        });
        document.querySelectorAll("input, select").forEach(el=>{
          el.dispatchEvent(new Event("input",{bubbles:true}));
          el.dispatchEvent(new Event("change",{bubbles:true}));
        });
        render();
      });
    })();

    render(); // initial
  })();
  </script>

  <!-- FAQPage JSON-LD (5 items) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type":"Question",
        "name":"How many blue crabs per person?",
        "acceptedAnswer":{"@type":"Answer","text":"As a main crab feast, plan about 6 crabs per adult (about 5 for teens and 4 for children). For a mixed buffet, plan about 4 per adult. Appetizers are about 3 per adult."}
      },
      {
        "@type":"Question",
        "name":"How do you convert crabs to pounds?",
        "acceptedAnswer":{"@type":"Answer","text":"We multiply the needed crab count by your size choice (about 0.25 lb small, 0.33 lb medium, 0.50 lb large) to estimate total live weight."}
      },
      {
        "@type":"Question",
        "name":"Do I buy by the dozen or by the crab?",
        "acceptedAnswer":{"@type":"Answer","text":"Many markets price by the dozen. Enter a price per dozen or per crab; if both are set, we use the dozen price."}
      },
      {
        "@type":"Question",
        "name":"How much should I buy for 10, 25, 50, or 100 people?",
        "acceptedAnswer":{"@type":"Answer","text":"For a main with typical appetite, rough guides are: 10 people about 60 crabs, 25 people about 150, 50 people about 300, 100 people about 600. Use the calculator for your exact mix and size."}
      },
      {
        "@type":"Question",
        "name":"Does this account for meat yield?",
        "acceptedAnswer":{"@type":"Answer","text":"We plan by whole crabs and show live weight. Pick a larger size if you prefer more meat per person."}
      }
    ]
  }
  </script>
</body>
</html>
