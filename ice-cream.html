
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>DinnerMath - Ice Cream Quantity Calculator</title>
  <meta name="description" content="How much ice cream per person? Estimate about scoops, cups, containers, and cost. Auto calculates with appetite, event length, leftovers, serving type, and pack size.">
  <meta name="robots" content="index,follow">
  <style>
    :root{--ink:#111827;--muted:#6b7280;--line:#e5e7eb;--bg:#f8fafc;--card:#ffffff;--accent:#111827}
    *{box-sizing:border-box}html,body{margin:0;padding:0}
    body{background:var(--bg);font-family:"Brandon Grotesque","BrandonGrotesque","brandon-grotesque",ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial;color:var(--ink)}
    .wrap{max-width:860px;margin:24px auto;padding:0 16px}
    .card{background:var(--card);border:1px solid var(--line);border-radius:16px;box-shadow:0 1px 2px rgba(0,0,0,.04);padding:20px;margin:12px 0}
    .outline{border:2px solid var(--ink)}
    h1{font-size:22px;margin:0 0 8px}.lede{color:var(--muted);margin:0 0 16px}
    h2{font-size:20px;margin:16px 0 8px}h3{font-size:18px;margin:0 0 12px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    label{font-size:12px;color:#374151;display:block;margin:0 0 6px;font-weight:600}
    input[type="number"],select{width:100%;border:1px solid #d1d5db;border-radius:10px;padding:10px 12px;font-size:14px;background:#fff;color:var(--ink)}
    .muted{color:var(--muted);font-size:12px}.fine{font-size:13px;color:#374151}
    .inline{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
    .preset{border:1.5px solid var(--accent);background:#fff;border-radius:999px;padding:6px 10px;font-weight:700;cursor:pointer}
    .preset:hover{background:#f3f4f6}
    .pill{font-size:11px;border:1px solid #d1d5db;border-radius:999px;padding:4px 8px;color:#374151;background:#fff}
    .results-title{font-size:22px;font-weight:800;margin:0 0 8px}
    .kv{display:flex;justify-content:space-between;gap:12px;background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:12px 14px}
    .kv + .kv{margin-top:8px}.kv b{font-size:1.05rem}
    .finder{padding:14px;border-radius:16px;border:2px solid var(--ink);background:#fff}
    @media (max-width:720px){.row{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="wrap">

    <!-- Header -->
    <div class="card">
      <h1>Ice Cream - Quantity Calculator</h1>
      <p class="lede">Enter guests and choose serving type and pack size. We estimate about scoops, cups, containers, and cost.</p>
    </div>

    <!-- Inputs -->
    <div class="card">
      <h3>Inputs</h3>
      <div class="row">
        <div><label for="A">Adults</label><input id="A" type="number" min="0" step="1" value="10"></div>
        <div><label for="T">Teens</label><input id="T" type="number" min="0" step="1" value="0"></div>
        <div><label for="C">Children</label><input id="C" type="number" min="0" step="1" value="0"></div>
        <div>
          <label for="course">Course mode</label>
          <select id="course">
            <option value="dessert" selected>Dessert</option>
            <option value="buffet">Sweets table</option>
            <option value="tasting">Tasting</option>
            <option value="favor">Party favor</option>
          </select>
        </div>
      </div>
      <div class="row">
        <div>
          <label for="length">Event length</label>
          <select id="length">
            <option value="0.95">Short - about 1 to 2 hours</option>
            <option value="1.00" selected>Standard - about 2 to 3 hours</option>
            <option value="1.08">Long - about 3 to 4 hours</option>
            <option value="1.15">Extended - about 4 to 5 hours</option>
          </select>
        </div>
        <div>
          <label for="leftovers">Leftovers</label>
          <select id="leftovers">
            <option value="1.00" selected>No</option>
            <option value="1.10">+10 percent</option>
            <option value="1.20">+20 percent</option>
          </select>
        </div>
        <div>
          <label for="appetite">Appetite</label>
          <select id="appetite">
            <option value="0.90">Light</option>
            <option value="1.00" selected>Typical</option>
            <option value="1.20">Hearty</option>
          </select>
        </div>
        <div>
          <label for="serving">Serving type</label>
          <select id="serving">
            <option value="1.10">Cone</option>
            <option value="1.00" selected>Cup</option>
            <option value="1.40">Sundae</option>
            <option value="0.90">Buffet scoops</option>
          </select>
        </div>
        <div>
          <label for="pack">Pack size</label>
          <select id="pack">
            <option value="16">Pint (16 oz, about 4 scoops)</option>
            <option value="32" selected>Quart (32 oz, about 8 scoops)</option>
            <option value="64">Half gallon (64 oz, about 16 scoops)</option>
            <option value="128">Gallon (128 oz, about 32 scoops)</option>
          </select>
        </div>
      </div>
      <div class="inline" style="margin-top:8px">
        <span class="muted">Quick presets:</span>
        <button class="preset" data-people="10" type="button">10</button>
        <button class="preset" data-people="25" type="button">25</button>
        <button class="preset" data-people="50" type="button">50</button>
        <button class="preset" data-people="100" type="button">100</button>
        <div style="flex:1"></div>
        <button id="dmReset" type="button" class="preset">Reset</button>
      </div>
    </div>

    <!-- Pricing -->
    <div class="card">
      <h3>Pricing (optional)</h3>
      <div class="row">
        <div>
          <label for="priceMode">Pricing mode</label>
          <select id="priceMode">
            <option value="scoop" selected>Per scoop</option>
            <option value="container">Per container</option>
          </select>
        </div>
        <div>
          <label for="priceUnit">Unit price</label>
          <input id="priceUnit" type="number" min="0" step="0.01" placeholder="example: 1.25">
        </div>
        <div><label for="taxPct">Sales tax (percent)</label><input id="taxPct" type="number" min="0" step="0.1" placeholder="example: 7.5"></div>
        <div><label for="fees">Extra fees (US dollars)</label><input id="fees" type="number" min="0" step="0.01" placeholder="example: 10.00"></div>
      </div>
      <div class="muted">Subtotal equals rounded scoops or containers times unit price. Then we add sales tax and fees.</div>
    </div>

    <!-- Results -->
    <div class="card outline">
      <h3 class="results-title">Results</h3>
      <div class="kv"><span>Total guests counted</span><b id="outGuests">-</b></div>
      <div class="kv"><span>Buy about</span><b id="outScoops">- scoops</b></div>
      <div class="kv"><span>Or about</span><b id="outCups">- cups</b></div>
      <div class="kv"><span>Or about</span><b id="outContainers">- containers</b></div>
      <div class="kv"><span>Cost estimate (subtotal)</span><b id="outSubtotal">$-</b></div>
      <div class="kv"><span>Tax and fees</span><b id="outAdds">$-</b></div>
      <div class="kv"><span>Estimated total</span><b id="outTotal">$-</b></div>
      <div class="kv"><span>Cost per person</span><b id="outPPP">$-</b></div>
    </div>

    <!-- Finder -->
    <div class="card finder">
      <div class="inline">
        <a class="preset" href="#" onclick="window.open('https://www.google.com/maps/search/ice+cream+near+me','_blank');return false;">Find ice cream near me</a>
        <a class="pill" href="#" onclick="window.open('https://www.google.com/maps/search/ice+cream+shop','_blank');return false;">Ice cream shops</a>
        <a class="pill" href="#" onclick="window.open('https://www.google.com/maps/search/grocery+store','_blank');return false;">Grocery stores</a>
      </div>
      <div class="muted" style="margin-top:8px">DinnerMath v1.7 - auto calculate</div>
    </div>

    <!-- FAQs -->
    <div class="card">
      <h2>FAQs</h2>
      <details open><summary>How many scoops per person?</summary>
        <div class="fine">Dessert baseline is about 1.5 scoops per adult, 1.75 per teen, and 1 per child. Adjust with Course mode, Serving type, Appetite, Event length, and Leftovers.</div>
      </details>
      <details><summary>What does Serving type change?</summary>
        <div class="fine">Cone nudges up scoops, Cup is baseline, Sundae nudges portions up about 40 percent, Buffet scoops nudges down about 10 percent.</div>
      </details>
      <details><summary>What do Pack sizes mean?</summary>
        <div class="fine">We convert ounces to containers: Pint 16 oz about 4 scoops, Quart 32 oz about 8 scoops, Half gallon 64 oz about 16 scoops, Gallon 128 oz about 32 scoops.</div>
      </details>
      <details><summary>How does pricing work?</summary>
        <div class="fine">Per scoop uses rounded scoops. Per container uses rounded containers. Subtotal = quantity x unit price, then add tax and fees.</div>
      </details>
      <details><summary>Do you round up?</summary>
        <div class="fine">We round scoops, cups, and containers up for convenience and show results as about. Use +10 percent or +20 percent leftovers for buffer.</div>
      </details>
    </div>

    <!-- Quick notes -->
    <div class="card">
      <h3>Quick notes</h3>
      <ul class="fine" style="margin:0 0 0 18px;padding:0">
        <li><strong>Baseline per person:</strong> Adults 1.5 scoops, Teens 1.75, Children 1.</li>
        <li><strong>Course multipliers:</strong> Dessert 1.00x, Sweets table 1.20x, Tasting 0.70x, Favor 0.60x.</li>
        <li><strong>Serving type multipliers:</strong> Cone 1.10x, Cup 1.00x, Sundae 1.40x, Buffet scoops 0.90x.</li>
        <li><strong>Pack sizes:</strong> Pint 16 oz 4 scoops, Quart 32 oz 8 scoops, Half gallon 64 oz 16 scoops, Gallon 128 oz 32 scoops.</li>
        <li><strong>Disclaimer:</strong> Estimates only; confirm with your grocer or caterer and adjust for your crowd.</li>
      </ul>
    </div>

  </div>

  <script>
  (function(){
    const $=id=>document.getElementById(id);
    const N=(v,d=0)=>{const n=parseFloat(v);return isFinite(n)?n:d;};
    const money=n=>(isFinite(n)&&n>=0)?"$"+n.toFixed(2):"$-";

    function courseMult(c){
      if(c==="buffet") return 1.20;
      if(c==="tasting") return 0.70;
      if(c==="favor") return 0.60;
      return 1.00;
    }

    function compute(){
      const A=N($("A").value,0),T=N($("T").value,0),C=N($("C").value,0);
      const guests=A+T+C;
      const appetite=N($("appetite").value,1.0);
      const length=N($("length").value,1.0);
      const leftover=N($("leftovers").value,1.0);
      const serving=N($("serving").value,1.0);
      const pack=N($("pack").value,32);

      const baseAdult=1.5, baseTeen=1.75, baseChild=1.0;
      let scoops=(A*baseAdult+T*baseTeen+C*baseChild);
      scoops*=courseMult($("course").value)*appetite*length*leftover*serving;

      const roundedScoops=Math.ceil(Math.max(0,scoops));
      const cups=Math.ceil(roundedScoops*0.5);
      const ounces=roundedScoops*4;
      const containers=Math.ceil(ounces/pack);

      const price=N($("priceUnit").value,0), tax=N($("taxPct").value,0)/100, fees=N($("fees").value,0);
      let subtotal=0;
      if(price>0){
        if($("priceMode").value==="scoop"){ subtotal=roundedScoops*price; }
        else { subtotal=containers*price; }
      }
      const adds=subtotal*tax+(fees>0?fees:0);
      const total=subtotal+adds;
      const ppp=(guests>0&&total>0)?total/guests:NaN;

      return {guests,roundedScoops,cups,containers,subtotal,adds,total,ppp};
    }

    function render(){
      const s=compute();
      $("outGuests").textContent=s.guests>0?String(s.guests):"-";
      $("outScoops").textContent=s.guests>0?String(s.roundedScoops)+" scoops":"- scoops";
      $("outCups").textContent=s.guests>0?String(s.cups)+" cups":"- cups";
      $("outContainers").textContent=s.guests>0?String(s.containers)+" containers":"- containers";
      $("outSubtotal").textContent=s.subtotal>0?money(s.subtotal):"$-";
      $("outAdds").textContent=s.subtotal>0?money(s.adds):"$-";
      $("outTotal").textContent=s.subtotal>0?money(s.total):"$-";
      $("outPPP").textContent=(s.total>0&&s.guests>0)?money(s.ppp):"$-";
    }

    ["A","T","C","course","length","leftovers","appetite","serving","pack","priceMode","priceUnit","taxPct","fees"].forEach(id=>{
      const el=$(id); if(el){ el.addEventListener("input",render); el.addEventListener("change",render); }
    });

    document.querySelectorAll(".preset[data-people]").forEach(btn=>{
      btn.addEventListener("click",()=>{
        const n=parseInt(btn.getAttribute("data-people"),10)||0;
        $("A").value=n;$("T").value=0;$("C").value=0;render();
      });
    });

    (function attachReset(){
      const btn=$("dmReset"); if(!btn)return;
      btn.addEventListener("click",()=>{
        document.querySelectorAll("input,select").forEach(el=>{
          if(el.tagName==="SELECT"){ el.selectedIndex=[...el.options].findIndex(o=>o.defaultSelected); }
          else { el.value=el.defaultValue; }
        });
        render();
      });
    })();

    render();
  })();
  </script>

</body>
</html>
